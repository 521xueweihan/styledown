<% Object.keys(files).forEach(function (key) { -%>
<% var file = files[key] -%>
<% Object.keys(file.sections).forEach(function (key) { -%>
<% var section = file.sections[key] -%>
<section class='styleguide-section -h<%= section.depth %>'>

  <h3 id='<%= section.id %>'>
    <%= section.title %>
  </h3>
<% Object.keys(section.parts).forEach(function (key) { -%>
<% var part = section.parts[key] -%>

<% if (part.type === 'text') { -%>
  <div class='styleguide-text'>
    <%- part.content.replace(/\n/g, '\n    ') %>
  </div>
<% } else if (part.type === 'code') { -%>
  <div class='styleguide-code'>
    <pre class='<%= part.class %><%= part.language ? 'lang-' + part.language : '' %>'><code><%- part.content.replace(/\n/g, '\n    ') %></code></pre>
  </div>
<% } else if (part.type === 'example') { -%>
  <div class='styleguide-example <%= part.class %> <%= part.language ? 'lang-' + part.language : '' %>'>
    <div class='figure'>
      <%- part.content.replace(/\n/g, '\n    ') %>
    </div>
  </div>
<% } -%>
<% }) -%>

</section>
<% }) -%>
<% }) -%>
